from django.shortcuts import render
from django.http import HttpResponse
from export_server import FcExporterController
import json
import cairo,  rsvg
import sys
sys.path.append('/usr/share/inkscape/extensions')


from wand.image import Image

from wand.api import library
import wand.color
import wand.image

def index(request):
  return HttpResponse("Hello, world. You're at the polls index.")

def fc(request):
 	return  render(request, 'fusioncharts.html')

def exportTest(request):
	ex = FcExporterController(request)
	print '-------'
	data = ex.start()
	#data = json.dumps(data)
	return HttpResponse(data)

def test(self):

	svgString ="""
	<svg height="300" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" id="raphael-paper-11" style="overflow: hidden; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-user-select: none; cursor: default; position: relative; background-color: rgb(255, 255, 255);"><desc>Column Chart with caption "Most Popular Superhero on Youtube"</desc><defs><linearGradient id="11-90-rgba_203_203_203_0__0-rgba_233_233_233_0__100" x1="0" y1="1" x2="6.123233995736766e-17" y2="0"><stop offset="0%" stop-color="#cbcbcb" stop-opacity="0"></stop><stop offset="100%" stop-color="#e9e9e9" stop-opacity="0"></stop></linearGradient><clipPath id="250BD534-4EF2-4490-BC8C-9E3DE03924F5"><rect x="95" y="53" width="388" height="204" transform="matrix(1,0,0,1,0,0)"></rect></clipPath></defs><g class="raphael-group-12-background"><rect x="0" y="0" width="500" height="300" stroke="none" fill="rgb(255, 255, 255)" opacity="1" fill-opacity="1" rx="0" ry="0" style="stroke: none; opacity: 1; fill-opacity: 1;"></rect><rect x="0" y="0" width="500" height="300" stroke="#767575" stroke-opacity="0.5" stroke-width="0" stroke-dasharray="none" fill="none" rx="0" ry="0" style="stroke: rgb(118, 117, 117); stroke-opacity: 0.5; fill: none;"></rect></g><g class="raphael-group-19-canvas"><rect x="94" y="52" width="390" height="206" rx="0" ry="0" stroke-width="2" stroke="#545454" stroke-opacity="0" stroke-linejoin="miter" fill="none" style="stroke: rgb(84, 84, 84); stroke-opacity: 0; stroke-linejoin: miter; fill: none;"></rect><rect x="95" y="53" width="388" height="204" rx="0" ry="0" stroke-width="0" stroke="none" fill-opacity="0" fill="#ffffff" style="stroke: none; fill-opacity: 0; fill: rgb(255, 255, 255);"></rect></g><g class="raphael-group-22-axisbottom"><g class="raphael-group-25-x-axis-bands"></g><g class="raphael-group-31-y-axis-bands"><rect x="95" y="175.39999999999998" width="388" height="40.80000000000001" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect><rect x="95" y="93.79999999999998" width="388" height="40.80000000000001" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect></g><g class="raphael-group-37-y-axis-bands"></g><g class="raphael-group-27-x-axis-lines"></g><g class="raphael-group-33-y-axis-lines"><path d="M95,216.5L483,216.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M95,175.5L483,175.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M95,135.5L483,135.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M95,94.5L483,94.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path></g><g class="raphael-group-39-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="122.71428571428572" y="273" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="122.71428571428572">Batman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="178.14285714285714" y="273" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="178.14285714285714">Thor</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="233.57142857142858" y="273" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="233.57142857142858">Iron Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="289" y="273" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5390625" x="289">Superman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="344.42857142857144" y="273" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="344.42857142857144">Wolverine</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="399.8571428571429" y="261" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="399.8571428571429">Spider</tspan><tspan dy="12" x="399.8571428571429">Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="455.2857142857143" y="261" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="455.2857142857143">Captain</tspan><tspan dy="12" x="455.2857142857143">America</tspan></text></g><g class="fusioncharts-yaxis-0-gridlabels"><text class="fusioncharts-label" fill="#555555" x="89" y="257" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.5" x="89">0hrs</tspan></text><text class="fusioncharts-label" fill="#555555" x="89" y="216.2" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4734374999999886" x="89">1.79 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="89" y="175.39999999999998" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4703124999999773" x="89">3.58 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="89" y="134.6" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4671874999999943" x="89">5.38 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="89" y="93.79999999999998" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.464062499999983" x="89">7.17 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="89" y="52.99999999999997" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4609374999999716" x="89">8.96 years</tspan></text></g><g class="fusioncharts-yaxis-1-gridlabels"></g><g class="raphael-group-42-axis-name"><text class="fusioncharts-yaxis-0-title" x="0" y="0" fill-opacity="1" fill="#555555" text-anchor="middle" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; font-size: 10px; stroke: none;" transform="matrix(0,-1,1,0,17,155)" font-size="10px" stroke="none"><tspan dy="9.421875" x="0">Total time spent watching</tspan></text></g></g><g class="raphael-group-13-dataset"><g class="raphael-group-64-columns" clip-path="url('#250BD534-4EF2-4490-BC8C-9E3DE03924F5')"><rect x="101" y="76" width="44" height="181" rx="0" ry="0" fill-opacity="1" fill="#008ee4" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(0, 142, 228); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="156" y="89" width="44" height="168" rx="0" ry="0" fill-opacity="1" fill="#9b59b6" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(155, 89, 182); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="211" y="206" width="45" height="51" rx="0" ry="0" fill-opacity="1" fill="#6baa01" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(107, 170, 1); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="267" y="221" width="44" height="36" rx="0" ry="0" fill-opacity="1" fill="#e44a00" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(228, 74, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="322" y="237" width="45" height="20" rx="0" ry="0" fill-opacity="1" fill="#f8bd19" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(248, 189, 25); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="378" y="238" width="44" height="19" rx="0" ry="0" fill-opacity="1" fill="#d35400" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(211, 84, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="433" y="245" width="44" height="12" rx="0" ry="0" fill-opacity="1" fill="#bdc3c7" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(189, 195, 199); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect></g></g><g class="raphael-group-23-axistop"><g class="raphael-group-24-x-axis-bands"></g><g class="raphael-group-30-y-axis-bands"></g><g class="raphael-group-36-y-axis-bands"></g><g class="raphael-group-26-x-axis-lines"></g><g class="raphael-group-32-y-axis-lines"></g><g class="raphael-group-38-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-1-gridlabels"></g></g><g class="fusioncharts-datalabels" transform="matrix(1,0,0,1,0,0)"></g><g class="raphael-group-79-caption"><text class="fusioncharts-caption" fill="#555555" x="289" y="15" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 13px; font-weight: bold;" font-family="Verdana,sans" font-size="13px" font-weight="bold"><tspan dy="12.296875" x="289">Most Popular Superhero on Youtube</tspan></text><text class="fusioncharts-subcaption" fill="#555555" x="289" y="32" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 11px; font-weight: bold;" font-family="Verdana,sans" font-size="11px" font-weight="bold"><tspan dy="10.109375" x="289">August 2013</tspan></text></g><g class="raphael-group-14-hot"><g class="raphael-group-63-col-hot"><rect x="101" y="76" width="44" height="181" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="156" y="89" width="44" height="168" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="211" y="206" width="45" height="51" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="267" y="221" width="44" height="36" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="322" y="237" width="45" height="20" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="378" y="238" width="44" height="19" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="433" y="245" width="44" height="12" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect></g></g><g class="raphael-group-17-buttons"></g><text x="6" y="296" stroke="none" fill="#000000" text-anchor="start" style="stroke: none; fill: rgb(0, 0, 0); text-anchor: start; fill-opacity: 0.5; font-size: 9px; font-family: Verdana, sans; cursor: pointer;" fill-opacity="0.5" font-size="9px" font-family="Verdana,sans"><tspan dy="-2.390625" x="6">FusionCharts XT Trial</tspan></text></svg>
	"""
	#cairosvg.svg2png(bytestring=svgString, write_to='dem.png')

	svg = rsvg.Handle(data=svgString) 
	width = svg.props.width 
	height = svg.props.height 
	print width
	# create PDF 
	surf = cairo.PDFSurface('output.pdf', width, height) 
	cr = cairo.Context(surf) 
	svg.render_cairo (cr) 
	surf.finish() 

	print 'test dem'
	return HttpResponse("Hello, world. ")



def test1(self):
  
  svgString ="""
	<span id="chartobject-1" class="fusioncharts-container" style="position: relative; text-align: left; line-height: normal; display: inline-block; zoom: 1; font-weight: normal; font-variant: normal; font-style: normal; text-decoration: none; padding: 0px; margin: 0px; border: none; direction: ltr; width: 500px; height: 300px;"><svg height="300" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-user-select: none; cursor: default; position: relative; background-color: rgb(255, 255, 255);" id="raphael-paper-11"><desc>Column Chart with caption "Most Popular Superhero on Youtube"</desc><defs><linearGradient id="11-90-rgba_203_203_203_0.5__0-rgba_233_233_233_0.5__100" x1="0" y1="1" x2="6.123233995736766e-17" y2="0"><stop offset="0%" stop-color="#cbcbcb" stop-opacity="0.5"></stop><stop offset="100%" stop-color="#e9e9e9" stop-opacity="0.5"></stop></linearGradient><linearGradient id="11-90-rgba_204_204_204_1__0-rgba_255_255_255_1__100" x1="0" y1="1" x2="6.123233995736766e-17" y2="0"><stop offset="0%" stop-color="#cccccc" stop-opacity="1"></stop><stop offset="100%" stop-color="#ffffff" stop-opacity="1"></stop></linearGradient><clipPath id="50A5BE4F-E72A-4189-BF2B-E836C75C52DB"><rect x="96" y="54" width="386" height="202" transform="matrix(1,0,0,1,0,0)"></rect></clipPath></defs><g class="raphael-group-12-background"><rect x="1" y="1" width="498" height="298" stroke="none" fill="url('#11-90-rgba_203_203_203_0.5__0-rgba_233_233_233_0.5__100')" opacity="1" fill-opacity="1" rx="0" ry="0" style="stroke: none; opacity: 1; fill-opacity: 1;"></rect><rect x="0.5" y="0.5" width="499" height="299" stroke="#767575" stroke-opacity="0.5" stroke-width="1" stroke-dasharray="none" fill="none" rx="0" ry="0" style="stroke: rgb(118, 117, 117); stroke-opacity: 0.5; fill: none;"></rect></g><g class="raphael-group-23-canvas"><rect x="95" y="53" width="388" height="204" rx="0" ry="0" stroke-width="2" stroke="#545454" stroke-opacity="1" stroke-linejoin="miter" fill="none" style="stroke: rgb(84, 84, 84); stroke-opacity: 1; stroke-linejoin: miter; fill: none;"></rect><rect x="96" y="54" width="386" height="202" rx="0" ry="0" stroke-width="0" stroke="none" fill-opacity="1" fill="#ffffff" style="stroke: none; fill-opacity: 1; fill: rgb(255, 255, 255);"></rect></g><g class="raphael-group-26-axisbottom"><g class="raphael-group-29-x-axis-bands"></g><g class="raphael-group-35-y-axis-bands"><rect x="96" y="175.2" width="386" height="40.400000000000006" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect><rect x="96" y="94.4" width="386" height="40.400000000000006" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect></g><g class="raphael-group-41-y-axis-bands"></g><g class="raphael-group-31-x-axis-lines"></g><g class="raphael-group-37-y-axis-lines"><path d="M96,216.5L482,216.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,175.5L482,175.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,135.5L482,135.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,94.5L482,94.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path></g><g class="raphael-group-43-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="123.57142857142857" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="123.57142857142857">Batman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="178.71428571428572" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="178.71428571428572">Thor</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="233.85714285714286" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="233.85714285714286">Iron Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="289" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5390625" x="289">Superman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="344.14285714285717" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="344.14285714285717">Wolverine</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="399.2857142857143" y="260" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="399.2857142857143">Spider</tspan><tspan dy="12" x="399.2857142857143">Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="454.42857142857144" y="260" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="454.42857142857144">Captain</tspan><tspan dy="12" x="454.42857142857144">America</tspan></text></g><g class="fusioncharts-yaxis-0-gridlabels"><text class="fusioncharts-label" fill="#555555" x="90" y="256" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.5" x="90">0hrs</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="215.6" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4671874999999943" x="90">1.79 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="175.2" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4734374999999886" x="90">3.58 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="134.8" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4640625000000114" x="90">5.38 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="94.4" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4703125000000057" x="90">7.17 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="54" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4609375" x="90">8.96 years</tspan></text></g><g class="fusioncharts-yaxis-1-gridlabels"></g><g class="raphael-group-46-axis-name"><text class="fusioncharts-yaxis-0-title" x="0" y="0" fill-opacity="1" fill="#555555" text-anchor="middle" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; font-size: 10px; stroke: none;" transform="matrix(0,-1,1,0,18,155)" font-size="10px" stroke="none"><tspan dy="9.421875" x="0">Total time spent watching</tspan></text></g></g><g class="raphael-group-13-dataset"><g class="raphael-group-68-columns" clip-path="url('#50A5BE4F-E72A-4189-BF2B-E836C75C52DB')"><rect x="102" y="77" width="44" height="179" rx="0" ry="0" fill-opacity="1" fill="#008ee4" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(0, 142, 228); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="157" y="89" width="44" height="167" rx="0" ry="0" fill-opacity="1" fill="#9b59b6" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(155, 89, 182); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="212" y="206" width="44" height="50" rx="0" ry="0" fill-opacity="1" fill="#6baa01" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(107, 170, 1); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="267" y="221" width="44" height="35" rx="0" ry="0" fill-opacity="1" fill="#e44a00" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(228, 74, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="322" y="236" width="44" height="20" rx="0" ry="0" fill-opacity="1" fill="#f8bd19" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(248, 189, 25); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="377" y="237" width="44" height="19" rx="0" ry="0" fill-opacity="1" fill="#d35400" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(211, 84, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="432" y="244" width="44" height="12" rx="0" ry="0" fill-opacity="1" fill="#bdc3c7" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(189, 195, 199); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect></g></g><g class="raphael-group-27-axistop"><g class="raphael-group-28-x-axis-bands"></g><g class="raphael-group-34-y-axis-bands"></g><g class="raphael-group-40-y-axis-bands"></g><g class="raphael-group-30-x-axis-lines"></g><g class="raphael-group-36-y-axis-lines"></g><g class="raphael-group-42-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-1-gridlabels"></g></g><g class="fusioncharts-datalabels" transform="matrix(1,0,0,1,0,0)"></g><g class="raphael-group-83-caption"><text class="fusioncharts-caption" fill="#555555" x="289" y="16" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 13px; font-weight: bold;" font-family="Verdana,sans" font-size="13px" font-weight="bold"><tspan dy="12.296875" x="289">Most Popular Superhero on Youtube</tspan></text><text class="fusioncharts-subcaption" fill="#555555" x="289" y="33" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 11px; font-weight: bold;" font-family="Verdana,sans" font-size="11px" font-weight="bold"><tspan dy="10.109375" x="289">August 2013</tspan></text></g><g class="raphael-group-14-hot"><g class="raphael-group-67-col-hot"><rect x="102" y="77" width="44" height="179" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="157" y="89" width="44" height="167" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="212" y="206" width="44" height="50" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="267" y="221" width="44" height="35" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="322" y="236" width="44" height="20" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="377" y="237" width="44" height="19" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="432" y="244" width="44" height="12" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect></g></g><g class="raphael-group-17-buttons"><g class="raphael-group-18-button"><rect x="472.5" y="6.5" width="18" height="17" rx="2" ry="2" fill="url('#11-90-rgba_204_204_204_1__0-rgba_255_255_255_1__100')" stroke="#bbbbbb" stroke-width="1" opacity="1" fill-opacity="1" stroke-opacity="1" style="stroke: rgb(187, 187, 187); opacity: 1; fill-opacity: 1; stroke-opacity: 1;"></rect><path d="M476.5,17.5L476.5,20.5L487.5,20.5L487.5,17.5L487.5,20.5L476.5,20.5ZM481.5,19.5L478.5,15L480.5,15L480.5,9.5L482.5,9.5L482.5,15L484.5,15Z" fill="#ffffff" stroke="#9a9a9a" fill-opacity="1" stroke-opacity="1" stroke-width="1" style="fill: rgb(255, 255, 255); stroke: rgb(154, 154, 154); fill-opacity: 1; stroke-opacity: 1;"></path><rect x="472.5" y="6.5" width="18" height="17" rx="2" ry="2" fill="#c0c0c0" stroke="#c0c0c0" fill-opacity="0.000001" stroke-opacity="0.000001" stroke-width="1" style="fill: rgb(192, 192, 192); stroke: rgb(192, 192, 192); fill-opacity: 1e-06; stroke-opacity: 1e-06; cursor: pointer;"></rect></g></g><text x="6" y="296" stroke="none" fill="#000000" text-anchor="start" style="stroke: none; fill: rgb(0, 0, 0); text-anchor: start; fill-opacity: 0.5; font-size: 9px; font-family: Verdana, sans; cursor: pointer;" fill-opacity="0.5" font-size="9px" font-family="Verdana,sans"><tspan dy="-2.390625" x="6">FusionCharts XT Trial</tspan></text></svg><div style="position: absolute; z-index: 50; display: none; width: 170px;"><div style="border: 1px solid rgb(100, 100, 100); box-shadow: rgb(153, 153, 153) 3px 3px 3px;"><div style="height: 18px; line-height: 12px; text-align: left; padding-left: 5px; padding-right: 5px; padding-top: 5px; cursor: pointer; border-width: 0px; font-family: Verdana, sans; font-size: 10px; color: rgb(85, 85, 85); background-color: rgb(255, 255, 255);">Download as JPEG image</div><div style="height: 18px; line-height: 12px; text-align: left; padding-left: 5px; padding-right: 5px; padding-top: 5px; cursor: pointer; border-width: 0px; font-family: Verdana, sans; font-size: 10px; color: rgb(85, 85, 85); background-color: rgb(255, 255, 255);">Download as PNG image</div><div style="height: 18px; line-height: 12px; text-align: left; padding-left: 5px; padding-right: 5px; padding-top: 5px; cursor: pointer; border-width: 0px; font-family: Verdana, sans; font-size: 10px; color: rgb(85, 85, 85); background-color: rgb(255, 255, 255);">Download as PDF document</div><div style="height: 18px; line-height: 12px; text-align: left; padding-left: 5px; padding-right: 5px; padding-top: 5px; cursor: pointer; border-width: 0px; font-family: Verdana, sans; font-size: 10px; color: rgb(85, 85, 85); background-color: rgb(255, 255, 255);">Download as SVG vector image</div></div></div></span>
	"""
 
  # with wand.image.Image(blob=svgString, format="svg") as image:
  #   with wand.color.Color('transparent') as background_color:
  #       library.MagickSetBackgroundColor(image.wand, background_color.resource)
  #       print background_color 
  #   # image.read(blob=svg_file, format="svg")
  #   png_image = image.make_blob("png32")

  # with open("output_filename.png", "wb") as out:
  #   out.write(png_image)

	
  img = Image( blob=svgString, format="svg" )
  png_image = img.make_blob("png")
  
  with open("output_filename.png", "wb") as out:
  	out.write(png_image)
  #png_image.save('te.png')    

  return HttpResponse("Hello, world. ")    



	# with wand.image.Image() as image:
	# 	with wand.color.Color('transparent') as background_color:
	#   	library.MagickSetBackgroundColor(image.wand, background_color.resource) 

	#   image.read(blob=svg_file.read(), format="svg")
	#   png_image = image.make_blob("png32")

	# with open(output_filename, "wb") as out:
	#   out.write(png_image)

def test2(self):
  svgString = """
  <svg height="300" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" id="raphael-paper-11" style="overflow: hidden; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-user-select: none; cursor: default; position: relative; background-color: rgb(255, 255, 255);"><desc>Column Chart with caption "Most Popular Superhero on Youtube"</desc><defs><linearGradient id="11-90-rgba_203_203_203_0.5__0-rgba_233_233_233_0.5__100" x1="0" y1="1" x2="6.123233995736766e-17" y2="0"><stop offset="0%" stop-color="#cbcbcb" stop-opacity="0.5"></stop><stop offset="100%" stop-color="#e9e9e9" stop-opacity="0.5"></stop></linearGradient><linearGradient id="11-90-rgba_204_204_204_1__0-rgba_255_255_255_1__100" x1="0" y1="1" x2="6.123233995736766e-17" y2="0"><stop offset="0%" stop-color="#cccccc" stop-opacity="1"></stop><stop offset="100%" stop-color="#ffffff" stop-opacity="1"></stop></linearGradient><clipPath id="BE08D15C-E660-405B-BEBB-BC487CD885A9"><rect x="96" y="54" width="386" height="202" transform="matrix(1,0,0,1,0,0)"></rect></clipPath></defs><g class="raphael-group-12-background"><rect x="1" y="1" width="498" height="298" stroke="none" fill="url(#11-90-rgba_203_203_203_0.5__0-rgba_233_233_233_0.5__100)" opacity="1" fill-opacity="1" rx="0" ry="0" style="stroke: none; opacity: 1; fill-opacity: 1;"></rect><rect x="0.5" y="0.5" width="499" height="299" stroke="#767575" stroke-opacity="0.5" stroke-width="1" stroke-dasharray="none" fill="none" rx="0" ry="0" style="stroke: rgb(118, 117, 117); stroke-opacity: 0.5; fill: none;"></rect></g><g class="raphael-group-23-canvas"><rect x="95" y="53" width="388" height="204" rx="0" ry="0" stroke-width="2" stroke="#545454" stroke-opacity="1" stroke-linejoin="miter" fill="none" style="stroke: rgb(84, 84, 84); stroke-opacity: 1; stroke-linejoin: miter; fill: none;"></rect><rect x="96" y="54" width="386" height="202" rx="0" ry="0" stroke-width="0" stroke="none" fill-opacity="1" fill="#ffffff" style="stroke: none; fill-opacity: 1; fill: rgb(255, 255, 255);"></rect></g><g class="raphael-group-26-axisbottom"><g class="raphael-group-29-x-axis-bands"></g><g class="raphael-group-35-y-axis-bands"><rect x="96" y="175.2" width="386" height="40.400000000000006" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect><rect x="96" y="94.4" width="386" height="40.400000000000006" fill-opacity="0" fill="#eeeeee" stroke-width="0" rx="0" ry="0" stroke="#000000" style="fill-opacity: 0; fill: rgb(238, 238, 238); stroke: rgb(0, 0, 0);"></rect></g><g class="raphael-group-41-y-axis-bands"></g><g class="raphael-group-31-x-axis-lines"></g><g class="raphael-group-37-y-axis-lines"><path d="M96,216.5L482,216.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,175.5L482,175.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,135.5L482,135.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path><path d="M96,94.5L482,94.5" stroke="#717170" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="none" fill="none" shape-rendering="crispEdges" style="stroke: rgb(113, 113, 112); stroke-opacity: 0.1; fill: none; shape-rendering: crispEdges;"></path></g><g class="raphael-group-43-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="123.57142857142857" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="123.57142857142857">Batman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="178.71428571428572" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="178.71428571428572">Thor</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="233.85714285714286" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="233.85714285714286">Iron Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="289" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5390625" x="289">Superman</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="344.14285714285717" y="272" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="-2.5" x="344.14285714285717">Wolverine</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="399.2857142857143" y="260" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="399.2857142857143">Spider</tspan><tspan dy="12" x="399.2857142857143">Man</tspan></text><text class="fusioncharts-label" fill-opacity="1" fill="#555555" x="454.42857142857144" y="260" text-anchor="middle" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 10px; font-weight: normal; font-style: normal;" font-family="Verdana,sans" font-size="10px" font-weight="normal" font-style="normal"><tspan dy="9.5" x="454.42857142857144">Captain</tspan><tspan dy="12" x="454.42857142857144">America</tspan></text></g><g class="fusioncharts-yaxis-0-gridlabels"><text class="fusioncharts-label" fill="#555555" x="90" y="256" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.5" x="90">0hrs</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="215.6" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4671874999999943" x="90">1.79 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="175.2" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4734374999999886" x="90">3.58 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="134.8" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4640625000000114" x="90">5.38 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="94.4" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4703125000000057" x="90">7.17 years</tspan></text><text class="fusioncharts-label" fill="#555555" x="90" y="54" text-anchor="end" transform="matrix(1,0,0,1,0,0)" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: end; stroke: none; font-family: Verdana, sans; font-size: 10px;" font-family="Verdana,sans" font-size="10px" font-weight="undefined" font-style="undefined"><tspan dy="3.4609375" x="90">8.96 years</tspan></text></g><g class="fusioncharts-yaxis-1-gridlabels"></g><g class="raphael-group-46-axis-name"><text class="fusioncharts-yaxis-0-title" x="0" y="0" fill-opacity="1" fill="#555555" text-anchor="middle" style="fill-opacity: 1; fill: rgb(85, 85, 85); text-anchor: middle; font-size: 10px; stroke: none;" transform="matrix(0,-1,1,0,18,155)" font-size="10px" stroke="none"><tspan dy="9.421875" x="0">Total time spent watching</tspan></text></g></g><g class="raphael-group-13-dataset"><g class="raphael-group-68-columns" clip-path="url(#BE08D15C-E660-405B-BEBB-BC487CD885A9)"><rect x="102" y="77" width="44" height="179" rx="0" ry="0" fill-opacity="1" fill="#008ee4" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(0, 142, 228); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="157" y="89" width="44" height="167" rx="0" ry="0" fill-opacity="1" fill="#9b59b6" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(155, 89, 182); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="212" y="206" width="44" height="50" rx="0" ry="0" fill-opacity="1" fill="#6baa01" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(107, 170, 1); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="267" y="221" width="44" height="35" rx="0" ry="0" fill-opacity="1" fill="#e44a00" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(228, 74, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="322" y="236" width="44" height="20" rx="0" ry="0" fill-opacity="1" fill="#f8bd19" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(248, 189, 25); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="377" y="237" width="44" height="19" rx="0" ry="0" fill-opacity="1" fill="#d35400" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(211, 84, 0); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect><rect x="432" y="244" width="44" height="12" rx="0" ry="0" fill-opacity="1" fill="#bdc3c7" stroke="#333333" stroke-opacity="1" stroke-width="0" stroke-dasharray="none" stroke-linejoin="miter" style="fill-opacity: 1; fill: rgb(189, 195, 199); stroke: rgb(51, 51, 51); stroke-opacity: 1; stroke-linejoin: miter;"></rect></g></g><g class="raphael-group-27-axistop"><g class="raphael-group-28-x-axis-bands"></g><g class="raphael-group-34-y-axis-bands"></g><g class="raphael-group-40-y-axis-bands"></g><g class="raphael-group-30-x-axis-lines"></g><g class="raphael-group-36-y-axis-lines"></g><g class="raphael-group-42-y-axis-lines"></g><g class="fusioncharts-xaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-0-gridlabels"></g><g class="fusioncharts-yaxis-1-gridlabels"></g></g><g class="fusioncharts-datalabels" transform="matrix(1,0,0,1,0,0)"></g><g class="raphael-group-83-caption"><text class="fusioncharts-caption" fill="#555555" x="289" y="16" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 13px; font-weight: bold;" font-family="Verdana,sans" font-size="13px" font-weight="bold"><tspan dy="12.296875" x="289">Most Popular Superhero on Youtube</tspan></text><text class="fusioncharts-subcaption" fill="#555555" x="289" y="33" text-anchor="middle" stroke="none" style="fill: rgb(85, 85, 85); text-anchor: middle; stroke: none; font-family: Verdana, sans; font-size: 11px; font-weight: bold;" font-family="Verdana,sans" font-size="11px" font-weight="bold"><tspan dy="10.109375" x="289">August 2013</tspan></text></g><g class="raphael-group-14-hot"><g class="raphael-group-67-col-hot"><rect x="102" y="77" width="44" height="179" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="157" y="89" width="44" height="167" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="212" y="206" width="44" height="50" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="267" y="221" width="44" height="35" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="322" y="236" width="44" height="20" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="377" y="237" width="44" height="19" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect><rect x="432" y="244" width="44" height="12" rx="0" ry="0" stroke="#c0c0c0" stroke-opacity="0.000001" stroke-width="0" fill-opacity="0.000001" fill="#c0c0c0" style="stroke: rgb(192, 192, 192); stroke-opacity: 1e-06; fill-opacity: 1e-06; fill: rgb(192, 192, 192);"></rect></g></g><g class="raphael-group-17-buttons"><g class="raphael-group-18-button"><rect x="472.5" y="6.5" width="18" height="17" rx="2" ry="2" fill="url(#11-90-rgba_204_204_204_1__0-rgba_255_255_255_1__100)" stroke="#bbbbbb" stroke-width="1" opacity="1" fill-opacity="1" stroke-opacity="1" style="stroke: rgb(187, 187, 187); opacity: 1; fill-opacity: 1; stroke-opacity: 1;"></rect><path d="M476.5,17.5L476.5,20.5L487.5,20.5L487.5,17.5L487.5,20.5L476.5,20.5ZM481.5,19.5L478.5,15L480.5,15L480.5,9.5L482.5,9.5L482.5,15L484.5,15Z" fill="#ffffff" stroke="#9a9a9a" fill-opacity="1" stroke-opacity="1" stroke-width="1" style="fill: rgb(255, 255, 255); stroke: rgb(154, 154, 154); fill-opacity: 1; stroke-opacity: 1;"></path><rect x="472.5" y="6.5" width="18" height="17" rx="2" ry="2" fill="#c0c0c0" stroke="#c0c0c0" fill-opacity="0.000001" stroke-opacity="0.000001" stroke-width="1" style="fill: rgb(192, 192, 192); stroke: rgb(192, 192, 192); fill-opacity: 1e-06; stroke-opacity: 1e-06; cursor: pointer;"></rect></g></g><text x="6" y="296" stroke="none" fill="#000000" text-anchor="start" style="stroke: none; fill: rgb(0, 0, 0); text-anchor: start; fill-opacity: 0.5; font-size: 9px; font-family: Verdana, sans; cursor: pointer;" fill-opacity="0.5" font-size="9px" font-family="Verdana,sans"><tspan dy="-2.390625" x="6">FusionCharts XT Trial</tspan></text></svg>

  """
  with Image( blob=str(svgString), format="svg" ) as img:
    #img.make_blob('png')
    img.UNIT_TYPES= "pixelsperinch"
    img.save(filename='png_location.jpg')

  return HttpResponse("Hello, world. ")	
